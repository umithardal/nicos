description = 'IPC slits after mono shielding'

group = 'optional'
includes = ['system']

tango_base = 'tango://phys.panda.frm2.tum.de:10000/panda/'

# Note: slits have fixed addresses of 0x80 after soldering fix.

devices = dict(
    ss1bus = device('nicos.devices.vendor.ipc.IPCModBusTango',
        tangodevice = tango_base + 'ss1/bio',
        lowlevel = True,
    ),
    ss1_l_mot = device('nicos.devices.vendor.ipc.SlitMotor',
        lowlevel = True,
        bus = 'ss1bus',
        addr = 0x80,
        side = 2,
        slope = -78.0,
        zerosteps = 1900,
        resetpos = -20,
        abslimits = (-25, 20),
    ),
    ss1_r_mot = device('nicos.devices.vendor.ipc.SlitMotor',
        lowlevel = True,
        bus = 'ss1bus',
        addr = 0x80,
        side = 3,
        slope = 82.0,
        zerosteps = 1800,
        resetpos = 20,
        abslimits = (-20, 25),
    ),
    ss1_b_mot = device('nicos.devices.vendor.ipc.SlitMotor',
        lowlevel = True,
        bus = 'ss1bus',
        addr = 0x80,
        side = 0,
        slope = -54.0,
        zerosteps = 1200,
        resetpos = -45,
        abslimits = (-50, 20),
    ),
    ss1_t_mot = device('nicos.devices.vendor.ipc.SlitMotor',
        lowlevel = True,
        bus = 'ss1bus',
        addr = 0x80,
        side = 1,
        slope = 56.0,
        zerosteps = 1200,
        resetpos = 45,
        abslimits = (-20, 50),
    ),
    ss1_l = device('nicos.devices.generic.Axis',
        lowlevel = True,
        precision = 0.1,
        backlash = -2.,
        motor = 'ss1_l_mot',
    ),
    ss1_r = device('nicos.devices.generic.Axis',
        lowlevel = True,
        precision = 0.1,
        backlash = 2.,
        motor = 'ss1_r_mot',
    ),
    ss1_b = device('nicos.devices.generic.Axis',
        lowlevel = True,
        precision = 0.1,
        backlash = -2.,
        motor = 'ss1_b_mot',
    ),
    ss1_t = device('nicos.devices.generic.Axis',
        lowlevel = True,
        precision = 0.1,
        backlash = 2.,
        motor = 'ss1_t_mot',
    ),
    ss1 = device('nicos.devices.generic.Slit',
        description = 'sample slit 1',
        left = 'ss1_l',
        right = 'ss1_r',
        bottom = 'ss1_b',
        top = 'ss1_t',
        opmode = '4blades',
        pollinterval = 5,
        maxage = 10,
    ),
    ss2bus = device('nicos.devices.vendor.ipc.IPCModBusTango',
        tangodevice = tango_base + 'ss2/bio',
        lowlevel = True,
    ),
    ss2_l_mot = device('nicos.devices.vendor.ipc.SlitMotor',
        lowlevel = True,
        bus = 'ss2bus',
        addr = 0x80,
        side = 2,
        slope = -80,
        zerosteps = 1840,
        resetpos = -20,
        abslimits = (-25, 20),
    ),
    ss2_r_mot = device('nicos.devices.vendor.ipc.SlitMotor',
        lowlevel = True,
        bus = 'ss2bus',
        addr = 0x80,
        side = 3,
        slope = 80.,
        zerosteps = 1800,
        resetpos = 20,
        abslimits = (-20, 25),
    ),
    ss2_b_mot = device('nicos.devices.vendor.ipc.SlitMotor',
        lowlevel = True,
        bus = 'ss2bus',
        addr = 0x80,
        side = 0,
        slope = -54.,
        zerosteps = 1170,
        resetpos = -45,
        abslimits = (-50, 20),
    ),
    ss2_t_mot = device('nicos.devices.vendor.ipc.SlitMotor',
        lowlevel = True,
        bus = 'ss2bus',
        addr = 0x80,
        side = 1,
        slope = 54.,
        zerosteps = 1250,
        resetpos = 45,
        abslimits = (-20, 50)
    ),
    ss2_l = device('nicos.devices.generic.Axis',
        lowlevel = True,
        precision = 0.1,
        backlash = -2.,
        motor = 'ss2_l_mot',
    ),
    ss2_r = device('nicos.devices.generic.Axis',
        lowlevel = True,
        precision = 0.1,
        backlash = 2.,
        motor = 'ss2_r_mot',
    ),
    ss2_b = device('nicos.devices.generic.Axis',
        lowlevel = True,
        precision = 0.1,
        backlash = -2.,
        motor = 'ss2_b_mot',
    ),
    ss2_t = device('nicos.devices.generic.Axis',
        lowlevel = True,
        precision = 0.1,
        backlash = 2.,
        motor = 'ss2_t_mot',
    ),
    ss2 = device('nicos.devices.generic.Slit',
        description = 'sample slit 2',
        left = 'ss2_l',
        right = 'ss2_r',
        bottom = 'ss2_b',
        top = 'ss2_t',
        opmode = '4blades',
        pollinterval = 5,
        maxage = 10,
    ),
)
